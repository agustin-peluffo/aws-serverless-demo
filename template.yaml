--- 
AWSTemplateFormatVersion: "2010-09-09"
Description: |
    sam-app
    Sample SAM Template for sam-app
Globals: 
  Function: 
    Timeout: 3
Outputs: 
  HelloWorldApi: 
    Description: "API Gateway endpoint URL for Prod stage for Hello World function"
    Value: "https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/hello/"
  HelloWorldFunction: 
    Description: "Hello World Lambda Function ARN"
    Value: HelloWorldFunction.Arn
  HelloWorldFunctionIamRole: 
    Description: "Implicit IAM Role created for Hello World function"
    Value: HelloWorldFunctionRole.Arn
Resources: 
  HelloWorldFunction: 
    Properties: 
      CodeUri: hello_world/
      Environment: 
        Variables: 
          PARAM1: VALUE
      Events: 
        HelloWorld: 
          Properties: 
            Method: get
            Path: /hello
          Type: Api
      Handler: app.lambda_handler
      Runtime: python2.7
    Type: "AWS::Serverless::Function"
  PipoParseFunction: 
    Properties: 
      CodeUri: pipo_parse/
      Environment: 
        Variables: 
          PARAM1: VALUE
      Events: 
        HelloWorld: 
          Properties: 
            Method: get
            Path: /parse
          Type: Api
      Handler: app.lambda_handler
      Runtime: python2.7
    Type: "AWS::Serverless::Function"
Transform: "AWS::Serverless-2016-10-31"
